{"paragraphs":[{"text":"%md ## Simple ML Test","user":"anonymous","dateUpdated":"2017-11-22T13:12:01+0000","config":{"colWidth":12,"editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Simple ML Test</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1423836981412_-1007008116","id":"20150213-231621_168813393","dateCreated":"2015-02-13T23:16:21+0000","dateStarted":"2017-11-22T13:12:01+0000","dateFinished":"2017-11-22T13:12:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:23615"},{"title":"Binomial logistic regression (taken from the Spark Docs)","text":"import org.apache.spark.ml.classification.LogisticRegression\n\n// Load training data\nval training = spark.read.format(\"libsvm\").load(\"s3a://datalayer-demo/sample_libsvm_data.txt\")\n\nval lr = new LogisticRegression()\n  .setMaxIter(10)\n  .setRegParam(0.3)\n  .setElasticNetParam(0.8)\n\n// Fit the model\nval lrModel = lr.fit(training)\n\n// Print the coefficients and intercept for logistic regression\nprintln(s\"Coefficients: ${lrModel.coefficients} Intercept: ${lrModel.intercept}\")\n\n// We can also use the multinomial family for binary classification\nval mlr = new LogisticRegression()\n  .setMaxIter(10)\n  .setRegParam(0.3)\n  .setElasticNetParam(0.8)\n  .setFamily(\"multinomial\")\n\nval mlrModel = mlr.fit(training)\n\n// Print the coefficients and intercepts for logistic regression with multinomial family\nprintln(s\"Multinomial coefficients: ${mlrModel.coefficientMatrix}\")\nprintln(s\"Multinomial intercepts: ${mlrModel.interceptVector}\")","user":"anonymous","dateUpdated":"2017-11-22T13:55:01+0000","config":{"colWidth":12,"title":true,"enabled":true,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false}}],"editorSetting":{"language":"scala","editOnDblClick":false},"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.classification.LogisticRegression\ntraining: org.apache.spark.sql.DataFrame = [label: double, features: vector]\nlr: org.apache.spark.ml.classification.LogisticRegression = logreg_dfbfec0a54df\nlrModel: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_dfbfec0a54df\nCoefficients: (692,[244,263,272,300,301,328,350,351,378,379,405,406,407,428,433,434,455,456,461,462,483,484,489,490,496,511,512,517,539,540,568],[-7.353983524188197E-5,-9.102738505589466E-5,-1.9467430546904298E-4,-2.0300642473486668E-4,-3.1476183314863995E-5,-6.842977602660743E-5,1.5883626898239883E-5,1.4023497091372047E-5,3.5432047524968605E-4,1.1443272898171087E-4,1.0016712383666666E-4,6.014109303795481E-4,2.840248179122762E-4,-1.1541084736508837E-4,3.85996886312906E-4,6.35019557424107E-4,-1.1506412384575676E-4,-1.5271865864986808E-4,2.804933808994214E-4,6.070117471191634E-4,-2.008459663247437E-4,-1.421075579290126E-4,2.739010341160883E-4,2.7730456244968115E-4,-9.838027027269332E-5,-3.808522443517704E-4,-2.5315198008555033E-4,2.7747714770754307E-4,-2.443619763919199E-4,-0.0015394744687597765,-2.3073328411331293E-4]) Intercept: 0.22456315961250325\nmlr: org.apache.spark.ml.classification.LogisticRegression = logreg_8fdbb554ca3c\nmlrModel: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_8fdbb554ca3c\nMultinomial coefficients: 2 x 692 CSCMatrix\n(0,244) 4.290365458958277E-5\n(1,244) -4.290365458958294E-5\n(0,263) 6.488313287833108E-5\n(1,263) -6.488313287833092E-5\n(0,272) 1.2140666790834663E-4\n(1,272) -1.2140666790834657E-4\n(0,300) 1.3231861518665612E-4\n(1,300) -1.3231861518665607E-4\n(0,350) -6.775444746760509E-7\n(1,350) 6.775444746761932E-7\n(0,351) -4.899237909429297E-7\n(1,351) 4.899237909430322E-7\n(0,378) -3.5812102770679596E-5\n(1,378) 3.581210277067968E-5\n(0,379) -2.3539704331222065E-5\n(1,379) 2.353970433122204E-5\n(0,405) -1.90295199030314E-5\n(1,405) 1.90295199030314E-5\n(0,406) -5.626696935778909E-4\n(1,406) 5.626696935778912E-4\n(0,407) -5.121519619099504E-5\n(1,407) 5.1215196190995074E-5\n(0,428) 8.080614545413342E-5\n(1,428) -8.080614545413331E-5\n(0,433) -4.256734915330487E-5\n(1,433) 4.256734915330495E-5\n(0,434) -7.080191510151425E-4\n(1,434) 7.080191510151435E-4\n(0,455) 8.094482475733589E-5\n(1,455) -8.094482475733582E-5\n(0,456) 1.0433687128309833E-4\n(1,456) -1.0433687128309814E-4\n(0,461) -5.4466605046259246E-5\n(1,461) 5.4466605046259286E-5\n(0,462) -5.667133061990392E-4\n(1,462) 5.667133061990392E-4\n(0,483) 1.2495896045528374E-4\n(1,483) -1.249589604552838E-4\n(0,484) 9.810519424784944E-5\n(1,484) -9.810519424784941E-5\n(0,489) -4.88440907254626E-5\n(1,489) 4.8844090725462606E-5\n(0,490) -4.324392733454803E-5\n(1,490) 4.324392733454811E-5\n(0,496) 6.903351855620161E-5\n(1,496) -6.90335185562012E-5\n(0,511) 3.946505594172827E-4\n(1,511) -3.946505594172831E-4\n(0,512) 2.621745995919226E-4\n(1,512) -2.621745995919226E-4\n(0,517) -4.459475951170906E-5\n(1,517) 4.459475951170901E-5\n(0,539) 2.5417562428184555E-4\n(1,539) -2.5417562428184555E-4\n(0,540) 5.271781246228031E-4\n(1,540) -5.271781246228032E-4\n(0,568) 1.860255150352447E-4\n(1,568) -1.8602551503524485E-4\nMultinomial intercepts: [-0.12065879445860686,0.12065879445860686]\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://192.168.9.193:4040/jobs/job/?id=0","http://192.168.9.193:4040/jobs/job/?id=1","http://192.168.9.193:4040/jobs/job/?id=2","http://192.168.9.193:4040/jobs/job/?id=3","http://192.168.9.193:4040/jobs/job/?id=4","http://192.168.9.193:4040/jobs/job/?id=5","http://192.168.9.193:4040/jobs/job/?id=6","http://192.168.9.193:4040/jobs/job/?id=7","http://192.168.9.193:4040/jobs/job/?id=8","http://192.168.9.193:4040/jobs/job/?id=9","http://192.168.9.193:4040/jobs/job/?id=10","http://192.168.9.193:4040/jobs/job/?id=11","http://192.168.9.193:4040/jobs/job/?id=12","http://192.168.9.193:4040/jobs/job/?id=13","http://192.168.9.193:4040/jobs/job/?id=14","http://192.168.9.193:4040/jobs/job/?id=15","http://192.168.9.193:4040/jobs/job/?id=16","http://192.168.9.193:4040/jobs/job/?id=17","http://192.168.9.193:4040/jobs/job/?id=18","http://192.168.9.193:4040/jobs/job/?id=19","http://192.168.9.193:4040/jobs/job/?id=20","http://192.168.9.193:4040/jobs/job/?id=21","http://192.168.9.193:4040/jobs/job/?id=22","http://192.168.9.193:4040/jobs/job/?id=23","http://192.168.9.193:4040/jobs/job/?id=24","http://192.168.9.193:4040/jobs/job/?id=25","http://192.168.9.193:4040/jobs/job/?id=26","http://192.168.9.193:4040/jobs/job/?id=27","http://192.168.9.193:4040/jobs/job/?id=28","http://192.168.9.193:4040/jobs/job/?id=29","http://192.168.9.193:4040/jobs/job/?id=30","http://192.168.9.193:4040/jobs/job/?id=31","http://192.168.9.193:4040/jobs/job/?id=32"],"interpreterSettingId":"2CBEJNFR7"}},"apps":[],"jobName":"paragraph_1423500779206_-1502780787","id":"20150210-015259_1403135953","dateCreated":"2015-02-10T01:52:59+0000","dateStarted":"2017-11-22T13:54:01+0000","dateFinished":"2017-11-22T13:54:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:23616"},{"config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1435955447812_-158639899","id":"20150703-133047_853701097","dateCreated":"2015-07-03T13:30:47+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:23617"}],"name":"2. Logistic Regression","id":"2E34T5B1T","angularObjects":{"2CCMX5R9J:shared_process":[],"2CBEJNFR7:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}